#!/bin/bash

#Organizes system information.
separator="////////////////////////////////////////////////////////"


echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt
#Get the hostname
echo "This is the hostname." >> sysinfo.txt
hostname >> sysinfo.txt
echo $separator >> sysinfo.txt 
echo $separator >> sysinfo.txt


#Get operating system
echo "This is the operating system." >> sysinfo.txt
os=$(cat /etc/*release | grep "PRETTY_NAME" | cut -d '=' -f 2 | tr -d '"')
$os >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt


#Get uptime
uptime=$(uptime -p)
echo "This is the uptime." >> sysinfo.txt
$uptime >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt


#Get kernel version
echo "This is the Linux kernel version." >> sysinfo.txt
kernel_version=$(uname -r)
$kernel_version >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt


#Get CPU information
echo "This is the CPU information." >> sysinfo.txt
lscpu >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt

#Get memory information
echo "This is the memory information." >> sysinfo.txt
memory_info=$(free -h)
$memory_info >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt

#Get IP information
echo "This is the IP information." >> sysinfo.txt
ip addr >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt

#Get filesystem 
echo "This is the filesystem." >> sysinfo.txt
filesystem_usage=$(df -h)
$filesystem_usage >> sysinfo.txt
echo $separator >> sysinfo.txt
echo $separator >> sysinfo.txt

#Get the last five lines of general log file containing "error" (case-insensitive)
error_logs=$(grep -i "error" /var/log/syslog | tail -n 5)
$error_logs >> sysinfo.txt

echo "System information is saved to sysinfo.txt."
